<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Codecember 2019: Patterns</title>
    <script src="lib/p5.1.1.9.js"></script>
    <script src="lib/jszip.js"></script>
    <script src="lib/FileSaver.js"></script>
    <script src="p5svg.js"></script>
    <script src="utils.js"></script>
    <script src="vector.js"></script>
    <script src="sketches/sketch01.js"></script>
    <script src="sketches/sketch02.js"></script>
    <script src="sketches/sketch03.js"></script>
    <script src="sketches/sketch04.js"></script>
    <script src="sketches/sketch05.js"></script>
    <script src="sketches/sketch06.js"></script>
    <script src="sketches/sketch07.js"></script>
    <script src="sketches/sketch08.js"></script>
    <script src="sketches/sketch09.js"></script>
    <script src="sketches/sketch10.js"></script>
    <script src="sketches/sketch11.js"></script>
    <script src="sketches/sketch12.js"></script>
    <script src="sketches/sketch13.js"></script>
    <script src="sketches/sketch14.js"></script>
    <script src="sketches/sketch15.js"></script>
    <script src="sketches/sketch16.js"></script>
    <script src="sketches/sketch17.js"></script>
    <script src="sketches/sketch18.js"></script>
    <script src="sketches/sketch19.js"></script>
    <script src="sketches/sketch20.js"></script>
    <script src="sketches/sketch21.js"></script>
    <script src="sketches/sketch22.js"></script>
    <script src="sketches/sketch23.js"></script>
    <script src="sketches/sketch24.js"></script>
    <script src="sketches/sketch25.js"></script>
    <script src="sketches/sketch26.js"></script>
    <script src="sketches/sketch27.js"></script>
    <script src="sketches/sketch28.js"></script>
    <script src="sketches/sketch29.js"></script>
    <script src="sketches/sketch30.js"></script>
    <script src="sketches/sketch31.js"></script>
    <script src="sketches/sketch32.js"></script>
    <script src="sketches/sketch33.js"></script>
    <script src="sketches/sketch34.js"></script>
    <script src="sketches/sketch35.js"></script>
    <script src="sketches/sketch36.js"></script>
    <style>
      main {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
        justify-content: center;
      }

      main canvas {
        width: 100% !important;
        height: unset !important;
      }

      main svg {
        width: 100%;
      }
    </style>
  </head>
  <body>
    <script>
      const generateSvgs = true

      const sketches = [
        s01,
        s02,
        s03,
        s04,
        s05,
        s06,
        s07,
        s08,
        s09,
        s10,
        s11,
        s12,
        s13,
        s14,
        s15,
        s16,
        s17,
        s18,
        s19,
        s20,
        s21,
        s22,
        s23,
        s24,
        s25,
        s26,
        s27,
        s28,
        s29,
        s30,
        s31,
        s32,
        s33,
        s34,
        s35,
        s36,
      ]

      if (generateSvgs) {
        sketches.forEach((sketchMaker) => new p5Svg(sketchMaker(800)))
        const svgStrings = Array.from(document.querySelectorAll('svg')).map(
          (svg) => svg.outerHTML,
        )
        const zip = new JSZip()
        const folder = zip.folder('patterns')
        svgStrings.forEach((svgString, index) => {
          const number = index + 1 < 10 ? `0${index + 1}` : `${index + 1}`
          folder.file(`patterns/${number}.svg`, svgString)
        })
        const downloadButton = document.createElement('button')
        downloadButton.onclick = () => {
          folder
            .generateAsync({ type: 'blob' })
            .then((blob) => saveAs(blob, 'blob.zip'))
        }
        downloadButton.innerHTML = 'download'
        document.body.prepend(downloadButton)
      } else {
        sketches.forEach((sketchMaker) => new p5(sketchMaker(800)))
      }
    </script>
  </body>
</html>
